(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2Ueh":function(e,t){var n=document.querySelector(".preloader"),r=document.querySelector(".page-preloader");setTimeout((function(){n.remove(),r.remove()}),5e3)},AHIM:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return'<li class="menu__list__item"><i class="material-icons icons__header_menu">home</i><a href="#">Home</a></li>\r\n<li class="menu__list__item user__item__js" data-status=\'favorites\'><i class="material-icons icons__header_menu favorites">favorite_border</i>\r\n    <p class="menu__list__title">Favorites</p>\r\n</li>\r\n<li class="menu__list__item user__item__js" data-status=\'watched\'><i class="material-icons icons__header_menu watch__later">check_circle_outline</i>\r\n    <p class="menu__list__title">Watched</p>\r\n</li>\r\n<li class="menu__list__item user__item__js" data-status=\'watchedLater\'><i class="material-icons icons__header_menu watched">bookmark_border</i>\r\n    <p class="menu__list__title">Watched Later</p>\r\n</li>\r\n<li class="menu__list__item"><i class="material-icons icons__header_menu sensor_door">sensor_door</i><a\r\n        class="user__logout" href="#">Log out</a></li>'},useData:!0})},Aa89:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return'<div class="movie__interests__tab">\r\n    <button class="movie__interests__tablinks"  data-status="onMain"><i class="material-icons icons__header_menu" data-status="onMain">home</i>На главную</button>\r\n    <button class="movie__interests__tablinks "data-status="favorites"><i class="material-icons icons__header_menu favorites" data-status="favorites">favorite_border</i>Избранное</button>\r\n    <button class="movie__interests__tablinks" data-status="watched"><i class="material-icons icons__header_menu watch__later" data-status="watched">check_circle_outline</i>Просмотрено</button>\r\n    <button class="movie__interests__tablinks" data-status="watchedLater"><i class="material-icons icons__header_menu watched" data-status="watchedLater">bookmark_border</i>Посмотреть позже</button>\r\n</div>'},useData:!0})},BO4n:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="list__actor-card">\r\n\r\n            <img src="'+l("function"==typeof(i=null!=(i=c(n,"profile_path")||(null!=t?c(t,"profile_path"):t))?i:s)?i.call(o,{name:"profile_path",hash:{},data:a,loc:{start:{line:7,column:22},end:{line:7,column:38}}}):i)+'" width="100px" alt="'+l("function"==typeof(i=null!=(i=c(n,"name")||(null!=t?c(t,"name"):t))?i:s)?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:7,column:59},end:{line:7,column:67}}}):i)+'" width="100px" height="150px">\r\n\r\n            <h3 class="list__actor-name">'+l("function"==typeof(i=null!=(i=c(n,"name")||(null!=t?c(t,"name"):t))?i:s)?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:9,column:41},end:{line:9,column:49}}}):i)+'</h3>\r\n            <p class="list__actor-moviename">'+l("function"==typeof(i=null!=(i=c(n,"character")||(null!=t?c(t,"character"):t))?i:s)?i.call(o,{name:"character",hash:{},data:a,loc:{start:{line:10,column:45},end:{line:10,column:58}}}):i)+"</p>\r\n        </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return'\r\n<div class="card__actors">\r\n  <ul class="list__actors">\r\n'+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:8},end:{line:12,column:17}}}))?i:"")+"    </ul>\r\n</div>"},useData:!0})},DLrn:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return' <div class="login-html is-hidden ">\r\n        <input\r\n          id="tab-1"\r\n          type="radio"\r\n          name="tab"\r\n          class="sign-in"\r\n        /><label for="tab-1" class="tab sign__in">Sign In</label>\r\n        <input id="tab-2" type="radio" name="tab" class="sign-up" /><label\r\n          for="tab-2"\r\n          class="tab up"\r\n          >Sign Up</label\r\n        >\r\n        <div class="login-form">\r\n          <div class="sign-in-htm">\r\n            <form class="form__sing__in group">\r\n              <label class="label"\r\n                >Email Address\r\n                <input\r\n                  type="email"\r\n                  class="input email__sign__in"\r\n                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"\r\n                  required\r\n                />\r\n              </label>\r\n              <label class="label"\r\n                >Password\r\n                <input\r\n                  type="password"\r\n                  class="input password__sign__in"\r\n                  placeholder=" 4 characters minimum"\r\n                  data-type="password"\r\n                  minlength="4"\r\n                  maxlength="16"\r\n                  required\r\n                />\r\n              </label>\r\n              <button type="submit" class="button submit__login">Sign In</button>\r\n            </form>\r\n            <div class="hr"></div>\r\n            <div class="foot-lnk">\r\n              <a href="#forgot">Forgot Password?</a>\r\n            </div>\r\n          </div>\r\n          <div class="sign-up-htm">\r\n            <form class="form__sign__up group">\r\n              <label class="label"\r\n                >Username\r\n                <input type="text" class="input username__sign__up" />\r\n              </label>\r\n              <label class="label"\r\n                >Password\r\n                <input\r\n                  type="password"\r\n                  class="input password__sign__up"\r\n                  placeholder=" 4 characters minimum"\r\n                  data-type="password"\r\n                  minlength="4"\r\n                  maxlength="16"\r\n                  required\r\n                />\r\n              </label>\r\n              <label class="label"\r\n                >Email Address\r\n                <input\r\n                  type="email"\r\n                  class="input email__sign__up"\r\n                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"\r\n                  required\r\n                />\r\n              </label>\r\n              <button type="submit" class="button submit__reg">Sign Up</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>'},useData:!0})},"Dv/5":function(e,t,n){},J3KF:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return"          ЗАГРУЖАЕМ....\r\n"},3:function(e,t,n,r,a){return"          LOADING....\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div class='modal__container'>\r\n  <h3 class=\"modal__title_loader\">\r\n"+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:3,column:8},end:{line:7,column:15}}}))?i:"")+'    \r\n  </h3>\r\n\r\n  <div class="modal__preloader">\r\n    <div class="modal__loader">\r\n      <div class="modal__face">\r\n        <div class="modal__circle"></div>\r\n      </div>\r\n      <div class="modal__face">\r\n        <div class="modal__circle"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},useData:!0})},"K/zI":function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="card__trailers">\r\n        <h4 class="card-trailers-title">'+l("function"==typeof(i=null!=(i=c(n,"name")||(null!=t?c(t,"name"):t))?i:s)?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:3,column:40},end:{line:3,column:48}}}):i)+'</h4>\r\n        <iframe class="card__trailers-video" src="https://www.youtube.com/embed/'+l("function"==typeof(i=null!=(i=c(n,"key")||(null!=t?c(t,"key"):t))?i:s)?i.call(o,{name:"key",hash:{},data:a,loc:{start:{line:4,column:80},end:{line:4,column:87}}}):i)+'" frameborder="0" allowfullscreen>\r\n        </iframe>\r\n    </div>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?i:""},useData:!0})},Kjwh:function(e,t){},Lzf2:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">Нет трейлеров</p>\r\n'},3:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">No trailers</p>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="card__trailers">\r\n'+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:4},end:{line:6,column:9}}}))?i:"")+"</div>"},useData:!0})},Pfbx:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return"    Назад\r\n"},3:function(e,t,n,r,a){return"    Back\r\n"},5:function(e,t,n,r,a){return"          Актеры\r\n"},7:function(e,t,n,r,a){return"          Actors\r\n"},9:function(e,t,n,r,a){return"          Отзывы\r\n"},11:function(e,t,n,r,a){return"          Reviews\r\n"},13:function(e,t,n,r,a){return"          Трейлеры\r\n"},15:function(e,t,n,r,a){return"          Trailers\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="btn__back">        \r\n'+(null!=(i=d(n,"if").call(s,null!=t?d(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:2},end:{line:6,column:9}}}))?i:"")+'</button>\r\n\r\n<div class="movie__markup__card ">\r\n  <div class="movie__markup__img">\r\n    <img src="'+u(typeof(o=null!=(o=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:l)===c?o.call(s,{name:"poster_path",hash:{},data:a,loc:{start:{line:11,column:14},end:{line:11,column:29}}}):o)+'" width="300px" alt='+u(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:l)===c?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:11,column:49},end:{line:11,column:58}}}):o)+'  width="300px" height="450px" />\r\n  </div>\r\n  <div class="movie__content">\r\n    <div class="card-body">\r\n      <h3 class="card-title-movie">'+u(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:l)===c?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:15,column:35},end:{line:15,column:44}}}):o)+'</h3>\r\n      <p class="card-body-date">'+u(typeof(o=null!=(o=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?o:l)===c?o.call(s,{name:"release_date",hash:{},data:a,loc:{start:{line:16,column:32},end:{line:16,column:48}}}):o)+'</p>\r\n      <p class="card-title-text">'+u(typeof(o=null!=(o=d(n,"allCountries")||(null!=t?d(t,"allCountries"):t))?o:l)===c?o.call(s,{name:"allCountries",hash:{},data:a,loc:{start:{line:17,column:33},end:{line:17,column:49}}}):o)+'</p>\r\n      <p class="card-title-text">'+u(typeof(o=null!=(o=d(n,"allGenres")||(null!=t?d(t,"allGenres"):t))?o:l)===c?o.call(s,{name:"allGenres",hash:{},data:a,loc:{start:{line:18,column:33},end:{line:18,column:46}}}):o)+'</p>\r\n      <div class="card-title-text">\r\n        <p class="icon-runtime-min"><i class="material-icons icon-runtime">theaters</i>'+u(typeof(o=null!=(o=d(n,"runtime")||(null!=t?d(t,"runtime"):t))?o:l)===c?o.call(s,{name:"runtime",hash:{},data:a,loc:{start:{line:20,column:87},end:{line:20,column:98}}}):o)+' мин</p>\r\n      </div>\r\n      <p class="card-text-overview">'+u(typeof(o=null!=(o=d(n,"overview")||(null!=t?d(t,"overview"):t))?o:l)===c?o.call(s,{name:"overview",hash:{},data:a,loc:{start:{line:22,column:36},end:{line:22,column:48}}}):o)+'</p>\r\n      <p class="card-text-rainting" data-id='+u(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:l)===c?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:23,column:44},end:{line:23,column:50}}}):o)+'><i class="material-icons icon-raiting">star_rate</i>'+u(typeof(o=null!=(o=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:l)===c?o.call(s,{name:"vote_average",hash:{},data:a,loc:{start:{line:23,column:103},end:{line:23,column:119}}}):o)+'\r\n      </p>\r\n    </div>\r\n    <div class="btn-group btn-group-sm status__film__js" data-container='+u(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:l)===c?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:26,column:72},end:{line:26,column:78}}}):o)+' role="group">\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div>\r\n  <div class="movie__markup__tab">\r\n    <button class="movie__markup__tablinks " id="defaultOpen" data-tabname="actors">\r\n'+(null!=(i=d(n,"if").call(s,null!=t?d(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:34,column:8},end:{line:38,column:15}}}))?i:"")+'        </button>\r\n    <button class="movie__markup__tablinks" data-tabname="reviews">\r\n'+(null!=(i=d(n,"if").call(s,null!=t?d(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:41,column:8},end:{line:45,column:15}}}))?i:"")+'        </button>\r\n    <button class="movie__markup__tablinks" data-tabname="trailers">\r\n'+(null!=(i=d(n,"if").call(s,null!=t?d(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.program(15,a,0),data:a,loc:{start:{line:48,column:8},end:{line:52,column:15}}}))?i:"")+'        </button>\r\n  </div>\r\n\r\n  \x3c!-- Tab content --\x3e\r\n  <div id="actors" class="movie__markup__tabcontent">\r\n\r\n  </div>\r\n\r\n  <div id="reviews" class="movie__markup__tabcontent">\r\n\r\n  </div>\r\n\r\n  <div id="trailers" class="movie__markup__tabcontent">\r\n\r\n  </div>\r\n</div>'},useData:!0})},Qdcv:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">Нет актеров</p>\r\n'},3:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">No actors</p>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="card__actors">\r\n'+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:2},end:{line:6,column:9}}}))?i:"")+"</div>"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("2Ueh"),n("Dv/5"),n("WB5j"),n("lAJ5"),n("JBxO"),n("Muwe"),n("9UJh"),n("w13K"),n("y89P"),n("X5mX");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=this;r(this,"routes",[]),r(this,"mode",null),r(this,"root","/"),r(this,"add",(function(e,n){return t.routes.push({path:e,cb:n}),t})),r(this,"remove",(function(e){for(var n=0;n<t.routes.length;n+=1)if(t.routes[n].path===e)return t.routes.slice(n,1),t;return t})),r(this,"flush",(function(){return t.routes=[],t})),r(this,"clearSlashes",(function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")})),r(this,"getFragment",(function(){var e="";if("history"===t.mode)e=(e=t.clearSlashes(decodeURI(window.location.pathname+window.location.search))).replace(/\?(.*)$/,""),e="/"!==t.root?e.replace(t.root,""):e;else{var n=window.location.href.match(/#(.*)$/);e=n?n[1]:""}return t.clearSlashes(e)})),r(this,"navigate",(function(e){return void 0===e&&(e=""),"history"===t.mode?window.history.pushState(null,null,t.root+t.clearSlashes(e)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e,t})),r(this,"listen",(function(){clearInterval(t.interval),t.interval=setInterval(t.interval,50)})),r(this,"interval",(function(){t.current!==t.getFragment()&&t.render()})),r(this,"render",(function(){t.current=t.getFragment(),t.routes.some((function(e){var n=t.current.match(e.path);return!!n&&(n.shift(),e.cb.apply({},n),n)}))})),this.mode=window.history.pushState?"history":"hash",e.mode&&(this.mode=e.mode),e.root&&(this.root=e.root),this.listen()},i=(n("lmye"),n("fp7Y"),n("FdtR"),n("QDHd"),n("8cZI"),n("x3Br"),n("wcNg"),{language:document.querySelector(".languages"),languageRu:document.querySelector(".ru__icon"),languageEn:document.querySelector(".en__icon"),registrationOverlayRef:document.querySelector(".modal__overlay"),userLogin:document.querySelector(".user__login"),userAccount:document.querySelector(".user__account"),wrapperMenuRef:document.querySelector(".menu__list"),containerMenuRef:document.querySelector(".wrapper"),mainLink:document.querySelector(".mainLink"),headerLogoLink:document.querySelector(".header-logo-link"),listMovies:document.querySelector(".list_movies"),paginationRef:document.getElementById("pagination"),cardMovies:document.querySelector(".main_card"),submitSearch:document.querySelector(".search__films"),getByNameRef:document.querySelector(".search_films_name"),getByGenresRef:document.querySelector(".search_films_genres"),getByActorsRef:document.querySelector(".search_films_actors"),searchFilmsBy:document.querySelector(".search__films_by"),searchGenres:document.querySelector(".search__genres"),choicesContainerRef:document.querySelector(".clear__choices"),btnSearchForm:document.querySelector(".btn__search_form"),searchString:document.querySelector(".search__string")}),o={queryString:{BY_NAME:"search",BY_ACTORS:"actors",BY_GANRE:"discover",POPULAR:"popular",FAVORITES:"favorites",WATCHED:"watched",WATCHED_LATER:"watchedLater"},instance:"",router:"",wathedFilms:{favorites:!1,watchedLater:!1,watched:!1},userData:[],Languages:{RUSSIAN:"ru-RU",ENGLISH:"en-EN"},placeholder:{RU:"3 жанра",EN:"3 genre"}};n("hi3g"),n("RtS0"),n("4owi"),n("D/wG"),n("WoWj"),n("SgDD"),n("3dw1"),n("IvQZ"),n("aOEW"),n("4NM0");function s(e){var t=document.createElement("div");t.addEventListener("click",d),t.classList.add("multi-select-component");var n=document.createElement("div");n.classList.add("search-container");var r=document.createElement("input");r.classList.add("selected-input"),r.setAttribute("autocomplete","off"),r.setAttribute("tabindex","0"),r.addEventListener("keyup",u),r.addEventListener("keydown",b),r.addEventListener("click",p);var a=document.createElement("p");a.classList.add("dropdown-icon"),a.addEventListener("click",f);var i=document.createElement("ul");i.classList.add("autocomplete-list"),n.appendChild(r),n.appendChild(i),n.appendChild(a),e.parentNode.replaceChild(t,e),t.appendChild(e),t.appendChild(n),function(e){for(var t=g(e).options_selected,n=e.parentNode,r=0;r<t.length;r++)m(n,t[r])}(e),c(t)}function l(e){e.querySelector(".selected-input").removeAttribute("placeholder")}function c(e){var t=e.querySelector(".selected-input");if(!e.querySelectorAll(".selected-wrapper").length&&document.activeElement!==t){var n=E()===o.Languages.RUSSIAN;t.setAttribute("placeholder",n?o.placeholder.RU:o.placeholder.EN)}}function u(e){var t=e.target.parentNode.parentNode,n=t.querySelector("select"),r=t.querySelector(".dropdown-icon"),a=e.target.value;if(a)r.classList.add("active"),v(n,a.trim());else{r.classList.remove("active");var i=new Event("click");r.dispatchEvent(i)}}function d(e){var t=e.target;if("DIV"==t.tagName){var n=t.querySelector(".selected-input"),r=t.querySelector(".dropdown-icon");if(!r.classList.contains("active")){var a=new Event("click");r.dispatchEvent(a)}n.focus(),l(t)}}function p(e){var t=e.target.parentElement.parentElement.querySelector(".dropdown-icon");if(!t.classList.contains("active")){var n=new Event("click");t.dispatchEvent(n)}e.stopPropagation()}function m(e,t,n){var r=e.querySelector(".search-container"),a=document.createElement("div");a.classList.add("selected-wrapper");var i=document.createElement("span");i.classList.add("selected-label"),i.innerText=t.length>5?t.slice(0,5)+"..":t,i.dataset.id=n;var o=document.createElement("p");o.classList.add("selected-close"),o.setAttribute("tabindex","-1"),o.setAttribute("data-option",t),o.setAttribute("data-hits",0),o.innerText="x",o.addEventListener("click",w),a.appendChild(i),a.appendChild(o),e.insertBefore(a,r)}function f(e){var t=e.target,n=t.parentNode.parentNode,r=n.querySelector(".selected-input"),a=n.querySelector("select");t.classList.toggle("active"),t.classList.contains("active")?(l(n),r.focus(),r.value?v(a,r.value):v(a,"",!0)):(h(a),c(n))}function h(e){e.parentNode.querySelector(".autocomplete-list").innerHTML=""}function v(e,t,n){void 0===n&&(n=!1);var r,a=g(e).autocomplete_options;r=n?a:function(e,t){if(!e)return t;for(var n=[],r=0;r<t.length;r++)e.toLowerCase()===t[r].slice(0,e.length).toLowerCase()&&n.push(t[r]);return n}(t,a);var i=e.parentNode,o=(i.querySelector(".search-container"),i.querySelector(".autocomplete-list"));o.innerHTML="";var s=r.length;if(1==s){var l=document.createElement("li");if(l.innerText=r[0],l.setAttribute("data-value",r[0]),l.addEventListener("click",_),o.appendChild(l),t.length==r[0].length){var c=new Event("click");l.dispatchEvent(c)}}else if(s>1)for(var u=0;u<s;u++){var d=document.createElement("li");d.innerText=r[u],d.setAttribute("data-value",r[u]),d.addEventListener("click",_),o.appendChild(d)}else{var p=document.createElement("li");p.classList.add("not-cursor"),p.innerText="No options found",o.appendChild(p)}}function _(e){var t=e.target.parentNode.parentNode.parentNode;if(3!==document.querySelectorAll(".selected-label").length){var n=t.querySelector(".selected-input"),r=t.querySelector('select option[value="'+e.target.dataset.value+'"]');r.setAttribute("selected",""),m(t,e.target.dataset.value,r.innerHTML),n.value&&(n.value=""),n.focus(),e.target.remove();var a=t.querySelector(".autocomplete-list");if(!a.children.length){var i=document.createElement("li");i.classList.add("not-cursor"),i.innerText="No options found",a.appendChild(i)}var o=new Event("keyup");n.dispatchEvent(o),e.stopPropagation()}}function g(e){var t=Array.from(e.querySelectorAll("option")).map((function(e){return e.value})),n=Array.from(e.querySelectorAll("option:checked")).map((function(e){return e.value})),r=[];return t.forEach((function(e){n.includes(e)||r.push(e)})),r.sort(),{options_selected:n,autocomplete_options:r}}function y(e){var t=e.dataset.option,n=e.parentNode.parentNode,r=n.querySelector(".selected-input"),a=n.querySelector(".dropdown-icon");n.querySelector('select option[value="'+t+'"]').removeAttribute("selected"),e.parentNode.remove(),r.focus(),a.classList.remove("active");var i=new Event("click");a.dispatchEvent(i)}function w(e){y(e.target),e.stopPropagation()}function b(e){var t=e.target.parentNode.parentNode,n=e.target,r=e.keyCode||e.charCode,a=t.querySelectorAll(".selected-wrapper");if(a.length){var i=a[a.length-1].querySelector("a"),o=+i.dataset.hits;if(8==r||46==r){if(!n.value)if(o>1){var s=new Event("click");i.dispatchEvent(s)}else i.dataset.hits=2}else i.dataset.hits=0}return!0}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-multi-select-plugin]").forEach((function(e){s(e)})),document.addEventListener("click",(function(){for(var e=document.querySelectorAll("[data-multi-select-plugin]"),t=0;t<e.length;t++){if(event)if(!e[t].parentElement.parentElement.contains(event.target)){var n=e[t].parentElement.parentElement,r=n.querySelector(".dropdown-icon"),a=n.querySelector(".autocomplete-list");r.classList.remove("active"),a.innerHTML="",c(n)}}}))}));var L={init:s,addOption:function(e,t,n){var r=document.querySelector(e),a=document.createElement("option");a.value=t,a.innerHTML=n,r.appendChild(a)},removeTokemEl:y,clearAutocompleteList:h};function k(){document.querySelector("[data-multi-select-plugin]").innerHTML="",D.fetchGanres().then((function(e){return e.genres.map((function(e){return{value:e.id,label:e.name}}))})).then((function(e){e.forEach((function(e){return L.addOption("[data-multi-select-plugin]",e.label,e.value)}))}))}function S(){i.languageEn.classList.remove("active__language"),i.languageRu.classList.remove("active__language"),i.language.classList.remove(o.Languages.RUSSIAN),i.language.classList.remove(o.Languages.ENGLISH)}function E(){return localStorage.getItem("language")}function x(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){x(i,r,a,o,s,"next",e)}function s(e){x(i,r,a,o,s,"throw",e)}o(void 0)}))}}i.getByNameRef.addEventListener("click",(function(e){i.searchFilmsBy.classList.remove("is-hidden"),i.searchGenres.classList.add("is-hidden"),i.getByNameRef.classList.add("active__search"),i.getByGenresRef.classList.remove("active__search"),i.getByActorsRef.classList.remove("active__search")})),i.getByGenresRef.addEventListener("click",(function(e){if(i.getByGenresRef.classList.contains("active__search"))return;i.searchFilmsBy.classList.add("is-hidden"),i.searchGenres.classList.remove("is-hidden"),i.getByNameRef.classList.remove("active__search"),i.getByGenresRef.classList.add("active__search"),i.getByActorsRef.classList.remove("active__search"),k(),i.searchGenres.focus()})),i.getByActorsRef.addEventListener("click",(function(e){i.searchFilmsBy.classList.remove("is-hidden"),i.searchGenres.classList.add("is-hidden"),i.getByNameRef.classList.remove("active__search"),i.getByGenresRef.classList.remove("active__search"),i.getByActorsRef.classList.add("active__search"),i.searchString.focus()})),i.submitSearch.addEventListener("submit",(function(e){if(e.preventDefault(),i.getByGenresRef.classList.contains("active__search")){var t=document.querySelectorAll(".selected-label");if(0===t.length)return;var n=Array.from(t).reduce((function(e,t){return[].concat(e,[t.dataset.id])}),[]).join(",");D.setLocation("#/genres/"+n+"/page/1");var r=i.searchGenres,a=r.querySelector("select");r.querySelectorAll(".selected-close").forEach((function(e){return L.removeTokemEl(e)})),r.querySelector(".dropdown-icon").classList.toggle("active"),L.clearAutocompleteList(a);var s=r.querySelector(".selected-input"),l=E()===o.Languages.RUSSIAN;return s.setAttribute("placeholder",l?o.placeholder.RU:o.placeholder.EN),void i.btnSearchForm.focus()}var c=i.searchString.value.trim();if(""===c)return;if(i.getByNameRef.classList.contains("active__search"))return D.setLocation("#/query/"+c+"/page/1"),void(i.searchString.value="");if(i.getByActorsRef.classList.contains("active__search"))return D.setLocation("#/actors/"+c+"/page/1"),void(i.searchString.value="")})),i.language.addEventListener("click",(function(e){var t;if("P"!==e.target.tagName)return;if(e.target.classList.contains("active__language"))return void console.log("click");e.target.classList.contains("active__language")||(S(),e.target.classList.add("active__language"),t=e.target.dataset.lang);i.language.classList.add(t),localStorage.setItem("language",t),o.router.render(),k(),E()})),S(),function(){var e=localStorage.getItem("language");e===o.Languages.RUSSIAN&&(i.languageRu.classList.add("active__language"),i.language.classList.add(o.Languages.RUSSIAN));e===o.Languages.ENGLISH&&(i.languageEn.classList.add("active__language"),i.language.classList.add(o.Languages.ENGLISH));null===e&&(i.languageRu.classList.add("active__language"),i.language.classList.add(o.Languages.RUSSIAN),localStorage.setItem("language",o.Languages.RUSSIAN))}();var A="?api_key=fb4eca5dd3545235e4fd6796c70d4d40",q="https://api.themoviedb.org/3/";function P(){return(P=R(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="&language="+E(),e.next=3,fetch(q+"movie/popular"+A+t+"&page="+this.page);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function M(){return(M=R(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="&language="+E(),e.next=3,fetch(q+"discover/movie"+A+t+"&with_genres="+this.param+"&page="+this.page);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function N(){return(N=R(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="&language="+E(),e.next=3,fetch(q+"search/movie"+A+t+"&query="+this.param+"&page="+this.page);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function j(){return(j=R(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="&language="+E(),e.next=3,fetch(q+"search/person"+A+t+"&query="+this.param);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok, actors not found");case 6:return e.next=8,n.json();case 8:if(0!==(r=e.sent).results.length){e.next=11;break}return e.abrupt("return",r);case 11:return a=r.results.reduce((function(e,t){return e.push(t.id),e}),[]).join("|"),e.next=14,fetch(q+"discover/movie"+A+t+"&with_cast="+a+"&page="+this.page+"&sort_by=popularity.desc");case 14:if((i=e.sent).ok){e.next=17;break}throw new Error("Network response was not ok");case 17:return e.abrupt("return",i.json());case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function I(){return(I=R(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="&language="+E(),e.next=3,fetch(q+"genre/movie/list"+A+t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=R(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="&language="+E(),e.next=3,fetch(q+"movie/"+t+A+n+"&append_to_response=videos,reviews,credits");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=R(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="&language="+E(),e.next=3,fetch(q+"movie/"+t+"/videos"+A+n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=R(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="&language="+E(),e.next=3,fetch(q+"movie/"+t+"/credits"+A+n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=R(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="&language="+E(),e.next=3,fetch(q+"movie/"+t+"/reviews"+A+n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={page:1,queryString:"",param:"",fetchTrending:function(){return P.apply(this,arguments)},fetchSearchMovie:function(){return N.apply(this,arguments)},fetchMovieByGanres:function(){return M.apply(this,arguments)},fetchActorsMovie:function(){return j.apply(this,arguments)},getMovieData:function(){var e=o.queryString;return this.queryString===e.BY_NAME?this.fetchSearchMovie():this.queryString===e.BY_GANRE?this.fetchMovieByGanres():this.queryString===e.BY_ACTORS?this.fetchActorsMovie():this.queryString===e.POPULAR?this.fetchTrending():null},fetchMovieId:function(e){return O.apply(this,arguments)},fetchCreditsId:function(e){return C.apply(this,arguments)},fetchReviewsId:function(e){return B.apply(this,arguments)},fetchVideosId:function(e){return T.apply(this,arguments)},fetchGanres:function(){return I.apply(this,arguments)},reset:function(){this.page=1},incrementPage:function(){this.page+=1},setPage:function(e){this.page=e},getPage:function(){return this.page},setQueryString:function(e){this.queryString=e},getQueryString:function(){return this.queryString},getParam:function(){return this.param},setParam:function(e){this.param=e},setLocation:function(e){location.href=e,location.hash=e}},H=n("z2bj"),U=n.n(H),G=n("J3KF"),F=n.n(G),W=n("2c84"),Y=new(n.n(W).a)(i.paginationRef,{totalItems:1e4,itemsPerPage:20,visiblePages:5,centerAlign:!0}),z=n("aM6o"),Q=n.n(z),J=(n("IlJM"),n("FWxf"),n("Xlt+"),n("wCa+"),n("SUr3"),n("JjHl"),n("a9xp"));n("abW9"),n("O+te");function K(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){K(i,r,a,o,s,"next",e)}function s(e){K(i,r,a,o,s,"throw",e)}o(void 0)}))}}function $(){return X.apply(this,arguments)}function X(){return(X=V(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z(),n=J.a.database().ref("users/"+t+"/userFilms/currentStatusFilm"),e.abrupt("return",n.once("value"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return J.a.auth().currentUser.uid}function ee(e){if(null===o.userData)return[];var t=o.userData.find((function(t){return Number(t.id)===Number(e)}));return void 0===t?o.wathedFilms:t}var te=n("DLrn"),ne=n.n(te);n("8K5C");function re(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){re(i,r,a,o,s,"next",e)}function s(e){re(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=ae(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.user;try{r=n.uid,a=n.email,i=J.a.database(),i.ref("users").child(r).set({email:a})}catch(e){console.error("user add failed")}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=ae(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=J.a.auth(),e.next=4,r.createUserWithEmailAndPassword(t,n);case 4:return a=e.sent,e.next=7,ie(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("User with this e-mail already exists");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=ae(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=J.a.auth(),e.next=4,r.signInWithEmailAndPassword(t,n);case 4:i.userLogin.classList.add("is-hidden"),i.userAccount.classList.remove("is-hidden"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("User with this e-mail no exists");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ue(e){e.preventDefault();var t=o.instance,n=document.querySelector(".password__sign__up");!function(e,t){se.apply(this,arguments)}(document.querySelector(".email__sign__up").value,n.value),t.close(),o.instance=""}function de(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){de(i,r,a,o,s,"next",e)}function s(e){de(i,r,a,o,s,"throw",e)}o(void 0)}))}}function me(e){return fe.apply(this,arguments)}function fe(){return(fe=pe(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=o.instance,r=document.querySelector(".email__sign__in"),a=document.querySelector(".password__sign__in"),le(r.value,a.value),n.close(),o.instance="";case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}J.a.initializeApp({apiKey:"AIzaSyDxhL1yChcVJg9Bh5SNQIDffedtmC-aqsQ",authDomain:"filmo-mania.firebaseapp.com",databaseURL:"https://filmo-mania-default-rtdb.firebaseio.com",projectId:"filmo-mania",storageBucket:"filmo-mania.appspot.com",messagingSenderId:"344881823410",appId:"1:344881823410:web:f403c34ee2c35adf5653ab",measurementId:"G-EBY8MDBS7Y"}),J.a.analytics(),J.a.auth().onAuthStateChanged((function(e){e?($().then((function(e){o.userData=e.val(),o.router.render()})),i.userLogin.classList.add("is-hidden"),i.userAccount.classList.remove("is-hidden")):(i.userLogin.classList.remove("is-hidden"),i.userAccount.classList.add("is-hidden"))}));var he=n("dcBu"),ve=(n("PzF0"),"");function _e(e){"Escape"===e.code&&ve.close()}function ge(e){return(ve=he.create(e,{onShow:function(){window.addEventListener("keydown",_e)},onClose:window.removeEventListener("keydown",_e)})).show(),ve}function ye(){o.instance=ge(ne()()),document.querySelector(".login-html").classList.remove("is-hidden");var e=document.querySelector(".sign-in"),t=document.querySelector(".sign-up"),n=document.querySelector(".form__sign__up"),r=document.querySelector(".form__sing__in");e.checked=!0,r.addEventListener("submit",me),t.addEventListener("click",(function(){t.checked=!0,e.checked=!1,n.addEventListener("submit",ue),r.removeEventListener("submit",me)})),e.addEventListener("click",(function(){e.checked=!0,t.checked=!1,r.addEventListener("submit",me),n.removeEventListener("submit",ue)}))}i.userLogin.addEventListener("click",ye);var we=ye;function be(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){be(i,r,a,o,s,"next",e)}function s(e){be(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ke(e,t){$().then((function(n){var r=function(e,t,n){null===e&&(e=[]);var r=e.find((function(e){return e.id===t}));void 0===r&&(r=Object.assign({id:t},o.wathedFilms));Object.keys(r).forEach((function(e){e===n&&(r[n]=!r[n])}));var a=e.findIndex((function(e){return e.id===t}));-1===a?e.push(r):e.splice(a,1,r);var i=(s=t,l=document.querySelectorAll(".card"),Object.values(l).find((function(e){if(s===e.dataset.id)return e})).dataset);var s,l;return e.map((function(e){return Number(e.id)===Number(i.id)?Object.assign({},e,{poster_path:i.poster,vote_average:i.vote,title:i.title,release_date:i.release}):e}))}(n.val(),e,t);o.userData=r,(location.hash.includes("favorites")||location.hash.includes("watched"))&&o.router.render(),Te.changeUserInterests(o.userData);var a=Z();J.a.database().ref(/users/+a+/userFilms/).set({currentStatusFilm:r})}),(function(e){return we()}))}function Se(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Le(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"I"===t.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:return n=t.target.dataset.id,r=t.target.dataset.status,e.next=7,ke(n,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){i.listMovies.innerHTML="",i.listMovies.insertAdjacentHTML("beforeend",Q()(e)),document.querySelectorAll(".card-img-top").forEach((function(e){return e.addEventListener("click",Re)})),document.querySelectorAll(".status__film__js").forEach((function(e){return e.addEventListener("click",Se)}))}function Re(e){e.preventDefault();var t=e.target.dataset.id;D.setLocation("#/movie/"+t)}var Ae=n("Vn5s"),qe=n.n(Ae);var Pe={showInterests:function(e){document.querySelectorAll(".status__film__js").forEach((function(t){e.map((function(e){Number(e.id)===Number(t.dataset.container)&&(t.innerHTML="",t.insertAdjacentHTML("beforeend",qe()(e)))}))}))},showInterestsOnCard:function(e){document.querySelectorAll(".status__film__js").forEach((function(t){Number(e.id)===Number(t.dataset.container)&&(t.innerHTML="",t.insertAdjacentHTML("beforeend",qe()(e)))}))}},Me=n("Yt3n"),Ne=n.n(Me);i.paginationRef.addEventListener("click",(function(){var e=Y.getCurrentPage();D.setPage(e);var t=D.getQueryString(),n=D.getParam();switch(t){case o.queryString.BY_NAME:D.setLocation("#/query/"+n+"/page/"+e);break;case o.queryString.BY_ACTORS:D.setLocation("#/actors/"+n+"/page/"+e);break;case o.queryString.BY_GANRE:D.setLocation("#/genres/"+n+"/page/"+e);break;case o.queryString.FAVORITES:D.setLocation("#/favorites/"+e);break;case o.queryString.WATCHED:D.setLocation("#/watched/"+e);break;case o.queryString.WATCHED_LATER:D.setLocation("#/watсhedLater/"+e);break;default:D.setLocation("#/page/"+e)}}));var je="";function Ie(){je=ge(F()({languageRu:E()===o.Languages.RUSSIAN})),window.scrollTo(0,0),D.getMovieData().then((function(e){var t=e.results,n=e.total_results;return Y.setTotalItems(Number(n)),Y.reset(),Y.movePageTo(D.getPage()),t.map((function(e){return null===e.poster_path?e.poster_path=Ne.a:e.poster_path="https://image.tmdb.org/t/p/w500"+e.poster_path,e.release_date=void 0===e.release_date?"":e.release_date.slice(0,4),e})),xe(t),t})).then((function(e){Oe(e)})).catch((function(e){i.listMovies.innerHTML="",i.listMovies.insertAdjacentHTML("beforeend",U()(e))})).finally((function(){""!==je&&je.close()}))}function Oe(e){e.map((function(e){var t=ee(e.id);return e.favorites=t.favorites,e.watched=t.watched,e.watchedLater=t.watchedLater,e})),Pe.showInterests(e)}var Te={mainInit:function(e,t,n){void 0===e&&(e=o.queryString.POPULAR),void 0===t&&(t=1),void 0===n&&(n=""),D.setQueryString(e),D.setPage(t),D.setParam(n);var r=document.querySelector(".movie__interests__tab");null!==r&&r.remove(),Y.movePageTo(t),Ie()},getMovie:Ie,changeUserInterests:Oe},Ce=n("Pfbx"),Be=n.n(Ce),De=n("BO4n"),He=n.n(De),Ue=n("Qdcv"),Ge=n.n(Ue),Fe=n("sjoB"),We=n.n(Fe),Ye=n("vuub"),ze=n.n(Ye),Qe=n("K/zI"),Je=n.n(Qe),Ke=n("Lzf2"),Ve=n.n(Ke),$e=n("wu07"),Xe=n.n($e);function Ze(e){e.preventDefault();var t=e.target;if("BUTTON"===t.nodeName){for(var n=t.dataset.tabname,r=document.getElementsByClassName("movie__markup__tabcontent"),a=0;a<r.length;a++)r[a].style.display="none";for(var i=document.getElementsByClassName("movie__markup__tablinks"),o=0;o<i.length;o++)i[o].className=i[o].className.replace(" tablinks__active","");document.getElementById(n).style.display="block",t.className+=" tablinks__active"}}function et(e){var t=ge(F()());window.scrollTo(0,0),D.fetchMovieId(e).then((function(e){return null===e.poster_path?e.poster_path=Ne.a:e.poster_path="https://image.tmdb.org/t/p/w500"+e.poster_path,e.release_date=e.release_date.slice(0,4),e.allGenres=e.genres.reduce((function(e,t){return[].concat(e,[t.name])}),[]).join(", "),e.allCountries=e.production_countries.reduce((function(e,t){return[].concat(e,[t.name])}),[]).join(", "),e.languageRu=E()===o.Languages.RUSSIAN,i.cardMovies.innerHTML="",i.cardMovies.insertAdjacentHTML("beforeend",Be()(e)),document.querySelector(".movie__markup__tab").addEventListener("click",Ze),document.getElementById("defaultOpen").click(),nt(e.credits.cast.map((function(e){return null===e.profile_path?e.profile_path=Xe.a:e.profile_path="https://image.tmdb.org/t/p/w500"+e.profile_path,e})),"actors",He.a,Ge.a),nt(e.reviews.results.map((function(e){var t=e.created_at,n="";if(null!==t){var r=t.slice(0,4),a=t.slice(5,7);n=t.slice(8,10)+" "+a+" "+r}return e.created_at=n,e})),"reviews",We.a,ze.a),nt(e.videos.results,"trailers",Je.a,Ve.a),window.scrollTo(0,0),document.querySelector(".btn__back").addEventListener("click",tt),e})).then((function(e){var t,n;document.querySelectorAll(".status__film__js").forEach((function(e){return e.addEventListener("click",Se)})),n=ee((t=e).id),t.favorites=n.favorites,t.watched=n.watched,t.watchedLater=n.watchedLater,Pe.showInterestsOnCard(t)})).catch((function(e){i.cardMovies.innerHTML="",i.cardMovies.insertAdjacentHTML("beforeend",U()(e))})).finally((function(){""!==t&&t.close()}))}function tt(e){e.preventDefault(),history.back()}function nt(e,t,n,r){0===e.length?document.getElementById(t).insertAdjacentHTML("beforeend",r({languageRu:E()===o.Languages.RUSSIAN})):document.getElementById(t).insertAdjacentHTML("beforeend",n(e))}n("lYjL");var rt=n("Aa89"),at=n.n(rt);function it(e){e.preventDefault();var t=e.target;if("BUTTON"===t.nodeName||"I"===t.nodeName){var n=e.target.dataset.status;"onMain"!==n?D.setLocation("#/"+n+"/1"):D.setLocation("#/")}}var ot={userFilmsList:function(e){i.wrapperMenuRef.classList.toggle("menu__list--animate"),i.userAccount.classList.toggle("menu__open"),i.wrapperMenuRef.innerHTML="";var t=e.currentTarget.dataset.status;D.setLocation("#/"+t+"/1")},interestsInnit:function(e,t){window.scrollTo(0,0);var n=o.userData,r=[];null!==n&&(r=n.filter((function(t){return t[e]})));var a=t-1,i=r.filter((function(e,n){return n<20*t&&n>=20*a}));D.setQueryString(e),D.setPage(t),Y.setTotalItems(r.length),Y.reset(),Y.movePageTo(t),xe(i),null===document.querySelector(".movie__interests__tab")&&document.querySelector(".main_list").insertAdjacentHTML("afterbegin",at()());var s=document.querySelectorAll(".movie__interests__tablinks");s.forEach((function(e){return e.addEventListener("click",it)})),s.forEach((function(t){t.classList.remove("tablinks__active"),t.dataset.status===e&&t.classList.toggle("tablinks__active"),t.children.forEach((function(t){t.classList.remove("icon_active"),t.dataset.status===e&&t.classList.toggle("icon_active")}))})),Te.changeUserInterests(i)}},st=new a({mode:"hash",root:"/"}),lt=document.querySelector(".main_list"),ct=document.querySelector(".main_card");function ut(){ct.classList.add("is-hidden"),lt.classList.remove("is-hidden")}st.add(/movie\/(.*)/,(function(e){lt.classList.add("is-hidden"),ct.classList.remove("is-hidden"),et(e)})).add(/query\/(.*)\/page\/(.*)/,(function(e,t){ut(),Te.mainInit(o.queryString.BY_NAME,t,e)})).add(/actors\/(.*)\/page\/(.*)/,(function(e,t){ut(),Te.mainInit(o.queryString.BY_ACTORS,t,e)})).add(/genres\/(.*)\/page\/(.*)/,(function(e,t){ut(),Te.mainInit(o.queryString.BY_GANRE,t,e)})).add(/page\/(.*)/,(function(e){ut(),Te.mainInit(o.queryString.POPULAR,e)})).add(/favorites\/(.*)/,(function(e){ut(),ot.interestsInnit(o.queryString.FAVORITES,e)})).add(/watched\/(.*)/,(function(e){ut(),ot.interestsInnit(o.queryString.WATCHED,e)})).add(/watchedLater\/(.*)/,(function(e){ut(),ot.interestsInnit(o.queryString.WATCHED_LATER,e)})).add("",(function(){ut(),Te.mainInit()})),o.router=st;var dt=n("AHIM"),pt=n.n(dt);function mt(){J.a.auth().signOut().then((function(){console.log("Sign-out successful"),i.userAccount.classList.toggle("menu__open"),i.wrapperMenuRef.classList.toggle("menu__list--animate"),i.wrapperMenuRef.innerHTML="",o.userData=[],D.setLocation("#")})).catch((function(e){console.log(e)})),i.userLogin.classList.remove("is-hidden"),i.userAccount.classList.add("is-hidden")}function ft(){"false"===i.containerMenuRef.getAttribute("aria-expanded")?i.containerMenuRef.setAttribute("aria-expanded",!0):(i.containerMenuRef.setAttribute("aria-expanded",!1),i.wrapperMenuRef.innerHTML="",i.userAccount.classList.remove("menu__open"),i.wrapperMenuRef.classList.remove("menu__list--animate"),document.body.removeEventListener("click",ft))}i.userAccount.addEventListener("click",(function(){if(i.userAccount.classList.contains("menu__open"))return i.wrapperMenuRef.innerHTML="",i.userAccount.classList.toggle("menu__open"),void i.wrapperMenuRef.classList.toggle("menu__list--animate");i.wrapperMenuRef.insertAdjacentHTML("beforeend",pt()()),i.userAccount.classList.toggle("menu__open"),document.body.addEventListener("click",ft);var e={logOutRef:document.querySelector(".user__logout"),userInterests:document.querySelectorAll(".user__item__js")};e.userInterests.forEach((function(e){return e.addEventListener("click",ot.userFilmsList)})),i.wrapperMenuRef.classList.toggle("menu__list--animate"),e.logOutRef.addEventListener("click",mt)})),i.headerLogoLink.addEventListener("click",(function(e){e.preventDefault(),D.setLocation("#/")}));n("Kjwh")},Vn5s:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <i class=\"material-icons favorites icon_active\" data-status='favorites' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:3,column:88},end:{line:3,column:94}}}):i)+">favorite_border</i>\r\n"},3:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <i class=\"material-icons favorites icon_disabled\" data-status='favorites' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:5,column:90},end:{line:5,column:96}}}):i)+">favorite_border</i>\r\n"},5:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <i class=\"material-icons watched icon_active\" data-status='watchedLater' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:10,column:89},end:{line:10,column:95}}}):i)+">bookmark_border</i>\r\n"},7:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <i class=\"material-icons watched icon_disabled\" data-status='watchedLater' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:12,column:91},end:{line:12,column:97}}}):i)+">bookmark_border</i>\r\n"},9:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"         <i class=\"material-icons watch__later icon_active\" data-status='watched' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:17,column:90},end:{line:17,column:96}}}):i)+">check_circle_outline</i>\r\n"},11:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"         <i class=\"material-icons watch__later icon_disabled\" data-status='watched' data-id="+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"id")||(null!=t?o(t,"id"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:a,loc:{start:{line:19,column:92},end:{line:19,column:98}}}):i)+">check_circle_outline</i>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p class="card-group-markup">\r\n'+(null!=(i=s(n,"if").call(o,null!=t?s(t,"favorites"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:8},end:{line:6,column:15}}}))?i:"")+'    </p>\r\n    <p class="card-group-markup">\r\n'+(null!=(i=s(n,"if").call(o,null!=t?s(t,"watchedLater"):t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:9,column:8},end:{line:13,column:15}}}))?i:"")+'    </p>\r\n    <p class="card-group-markup">\r\n'+(null!=(i=s(n,"if").call(o,null!=t?s(t,"watched"):t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:16,column:8},end:{line:20,column:15}}}))?i:"")+"    </p>"},useData:!0})},Yt3n:function(e,t,n){e.exports=n.p+"images/no-movie.jpg"},aM6o:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div data-id="+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:s)===l?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:13},end:{line:2,column:19}}}):i)+' class="card" data-poster='+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:s)===l?i.call(o,{name:"poster_path",hash:{},data:a,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):i)+" data-vote="+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:s)===l?i.call(o,{name:"vote_average",hash:{},data:a,loc:{start:{line:2,column:71},end:{line:2,column:87}}}):i)+" data-title="+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:s)===l?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:99},end:{line:2,column:108}}}):i)+" data-release="+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:s)===l?i.call(o,{name:"release_date",hash:{},data:a,loc:{start:{line:2,column:122},end:{line:2,column:138}}}):i)+'>\r\n\r\n    <div class="card__movie_markup">\r\n        <img class="card-img-top" src="'+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:s)===l?i.call(o,{name:"poster_path",hash:{},data:a,loc:{start:{line:5,column:39},end:{line:5,column:54}}}):i)+'" data-id='+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:s)===l?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:5,column:64},end:{line:5,column:70}}}):i)+" alt="+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:s)===l?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:5,column:75},end:{line:5,column:84}}}):i)+' width="300px" height="450px" />\r\n\r\n        <p class="card-text" ><i\r\n                class="material-icons icon-raiting icon-raiting-markup">star_rate</i><span>'+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:s)===l?i.call(o,{name:"vote_average",hash:{},data:a,loc:{start:{line:8,column:91},end:{line:8,column:107}}}):i)+'</span></p>\r\n    </div>\r\n\r\n    <div class="card-release-general">\r\n        <h5 class="card-main-title">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:s)===l?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:12,column:36},end:{line:12,column:45}}}):i)+'</h5>\r\n        <p class="text-release-vote">'+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:s)===l?i.call(o,{name:"release_date",hash:{},data:a,loc:{start:{line:13,column:37},end:{line:13,column:53}}}):i)+'</p>\r\n        <div class="btn-group btn-group-sm status__film__js" data-container='+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:s)===l?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:14,column:76},end:{line:14,column:82}}}):i)+' role="group">\r\n        </div>\r\n    </div>\r\n</div>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:18,column:9}}}))?i:""},useData:!0})},sjoB:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li class="list__review-card">\r\n                <h4 class="list__name-user">'+l("function"==typeof(i=null!=(i=c(n,"author")||(null!=t?c(t,"author"):t))?i:s)?i.call(o,{name:"author",hash:{},data:a,loc:{start:{line:5,column:44},end:{line:5,column:54}}}):i)+'</h4>\r\n                <p class="list__date-review">'+l("function"==typeof(i=null!=(i=c(n,"created_at")||(null!=t?c(t,"created_at"):t))?i:s)?i.call(o,{name:"created_at",hash:{},data:a,loc:{start:{line:6,column:45},end:{line:6,column:59}}}):i)+' </p>\r\n                <p class="list__review">'+l("function"==typeof(i=null!=(i=c(n,"content")||(null!=t?c(t,"content"):t))?i:s)?i.call(o,{name:"content",hash:{},data:a,loc:{start:{line:7,column:40},end:{line:7,column:51}}}):i)+"</p>\r\n            </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return'<div class="card__reviews">\r\n    <ul class=" list__reviews">\r\n'+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:8},end:{line:9,column:17}}}))?i:"")+"        </ul>\r\n</div>"},useData:!0})},vuub:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">Нет отзывов</p>\r\n'},3:function(e,t,n,r,a){return'    <p class="list__reviews no-reviews">No reviews</p>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="card__reviews">\r\n'+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"languageRu"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:2},end:{line:6,column:9}}}))?i:"")+"</div>"},useData:!0})},wu07:function(e,t,n){e.exports=n.p+"images/no-actor.jpg"},z2bj:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div>\r\n    <h1>\r\n        "+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"message")||(null!=t?o(t,"message"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:a,loc:{start:{line:3,column:8},end:{line:3,column:19}}}):i)+"\r\n    </h1>\r\n</div>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.4b0e876235b0daba57c2.js.map